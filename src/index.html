<!DOCTYPE html>
<html>
    <head>
        <title>#teamTenSeaMan</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
        <!-- Base css, but you'll likely want to keep them -->
        <link rel="stylesheet" href="css/reset.css" type="text/css">

        <!-- Your custom files -->
        <link rel="stylesheet" href="css/angular-csp.css" type="text/css">
        <link rel="stylesheet" href="css/app.css" type="text/css">

        <script src="GMLIB/info.js"></script>
        <script src="GMLIB/system.js"></script>
        <!-- Uncomment libraries as you need them: -->
        <!-- <script src="GMLIB/comm.js"></script> -->
        <!-- <script src="GMLIB/io.js"></script> -->
        <!-- <script src="GMLIB/media.js"></script> -->
        <!-- <script src="GMLIB/monitor.js"></script> -->
        <!-- <script src="GMLIB/nav.js"></script> -->
        <!-- <script src="GMLIB/phone.js"></script> -->
        <!-- <script src="GMLIB/system.js"></script> -->
        <!-- <script src="GMLIB/ui.js"></script> -->
        <!-- <script src="GMLIB/util.js"></script> -->
        <!-- <script src="GMLIB/voice.js"></script> -->

        <style>
            #map {
                height: 390px;
                width: 800px;
            }
        </style>
    </head>

<body ng-app="ngi">
<div id="wrapper">
    <div id="close-x"><img src="images/close.png" onlick="gm.system.closeApp()" alt="close"></div>
    <div id="main" ng-controller="HelloWorldCtrl">
        <div id="map"></div>
        <script>
            function initMap() {
                gm.info.getCurrentPosition(initializeCoords, true);

                function initializeCoords(position) {
                    var coords = {lat: position.coords.latitude, lng: position.coords.longitude};
                    var map = new google.maps.Map(document.getElementById('map'), {
                        zoom: 17,
                        center: coords
                    });
                    var marker = new google.maps.Marker({
                        position: coords,
                        map: map
                    });
                }

                gm.info.watchPosition(watchCoords, true);

                function watchCoords(position) {
                   var coords = {lat: position.coords.latitude, lng: position.coords.longitude};
                    var map = new google.maps.Map(document.getElementById('map'), {
                        zoom: 17,
                        center: coords
                    });
                    var marker = new google.maps.Marker({
                        position: coords,
                        map: map
                    });
                }
            }
        </script>
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDpZxFbEdj8k60KfiMOQ9lD9WyQxSNsIpU&callback=initMap"></script>
        <!-- Your app code: -->
        <script src="js/angular.min.js"></script>
        <script src="js/angular-ui-router.min.js"></script>
        <script src="js/app.js"></script>
    </body>
</html>
